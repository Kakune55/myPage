# 文档编写流程
文档全部托管于私有化部署的Gitea仓库上
使用Git进行权限管理，并使用Gitea的Webhook机制，实现文档自动编译和部署。
## 流程图
![Git流程](media/img/git-how-work.webp)
当然 只是简单的编写文档并不需要你掌握复杂的Git知识，你所需要掌握的只有
- 如何提交更改
- 如何创建PR
- 简单了解何为分支
- 如何回退提交
- 如何解决冲突
接下来我将会介绍如何进行提交更改，如何创建PR，如何解决冲突。

## Git的基本概念
1. 版本库（Repository）：存放所有版本信息的地方，包括文件内容和历史记录。
2. 提交（Commit）：对文件进行修改后，将改动记录下来，生成一个新的版本。
3. 分支（Branch）：从主线发展出去的独立线路，可以用于开发新功能或修复问题。 
4. HEAD：指向当前分支最新提交的指针。
5. 暂存区（Staging Area）：一个中间区域，用于暂存即将进行提交的改动。

## 提交更改
在完成你的编辑后，你可以直接提交更改。
提交更改分为两步：
1. 提交更改
2. 推送更改
3. 创建PR(Pull Request)

需要注意的时提交更改时需要有一条提交信息。这条信息应保持简短，且包含对更改的描述。  
如：```新增：对校园网的介绍``` ```更新：对校园网使用说明的修改``` ```删除：对校园网使用说明中关于新旧校园网的描述```
提交更改后，你需要推送更改到远程仓库。

## 创建PR(合并请求)
你需要在Gitea上创建一个PR，将你的更改合并到主线。
PR分为两个部分：
1. 源分支：你的更改所在的分支。
2. 目标分支：你想要合并到主线的分支。

对于我们的工作流程来说，源分支是dev分支，目标分支是main分支。
PR创建后，你需要等待管理员审核，审核通过后，你的更改将被合并到主线。
尽量每人使用单个分支，避免出现冲突。

## 解决冲突(管理员)
在进行合并时，可能会出现冲突。解决冲突的关键是找到冲突的位置，并手动修改冲突代码。
在Gitea上，你可以通过查看冲突文件，找到冲突的位置，并手动修改冲突代码。
在本地，你可以通过git diff命令，找到冲突的位置，并手动修改冲突代码。
在解决冲突后，你需要提交更改，并推送更改到远程仓库。

## 视频教程与补充资源
[菜鸟教程-Git](https://www.runoob.com/git/git-tutorial.html)  
[廖雪峰-Git教程](https://liaoxuefeng.com/books/git/introduction/index.html)  
[GitHub-Git教程](https://github.com/git-guides/git-init)

### 其他内部教程
待录制
